(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8c67da92"],{"29dc":function(e,t,r){},cf2d:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"section"},[r("div",{staticClass:"register-main"},[r("div",{staticClass:"register-title",class:{"title--red":1==e.type,"title--blue":2==e.type}},[e._v("\n      "+e._s(1==e.type?"普通用户注册":"商户注册")+"\n    ")]),r("div",{staticClass:"register-form"},[r("div",{staticClass:"register-left"},[r("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"auto"}},[r("el-form-item",{attrs:{label:"用户名：",prop:"name"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:10}},[r("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1),r("el-form-item",{attrs:{label:"登录密码：",prop:"password"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:10}},[r("el-input",{attrs:{maxlength:"16",minlength:"6","show-password":""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),r("el-col",{staticClass:"form-tips-gray",attrs:{span:13,align:"left"}},[e._v("\n                建议字母+数字组合\n              ")])],1)],1),r("el-form-item",{attrs:{label:"确认登录密码：",prop:"confirmPassword"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:10}},[r("el-input",{attrs:{maxlength:"12","show-password":""},model:{value:e.form.confirmPassword,callback:function(t){e.$set(e.form,"confirmPassword",t)},expression:"form.confirmPassword"}})],1)],1)],1),r("el-form-item",{ref:"telphone",attrs:{label:"手机：",prop:"telphone"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:10}},[r("el-input",{attrs:{type:"num",maxlength:"11",minlength:"11"},model:{value:e.form.telphone,callback:function(t){e.$set(e.form,"telphone",t)},expression:"form.telphone"}})],1),r("el-col",{attrs:{span:13}},[r("div",{staticClass:"code"},[r("el-button",{attrs:{type:"default",disabled:e.smsButton.disabled},nativeOn:{click:function(t){return e.getSms(t)}}},[e._v(e._s(e.smsButton.time)+e._s(e.smsButton.text))])],1)])],1)],1),r("el-form-item",{attrs:{label:"验证码：",prop:"code"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:10}},[r("el-input",{attrs:{maxlength:"6"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),r("el-col",{attrs:{span:13}},[r("div",{staticClass:"code"},[r("img",{attrs:{src:e.codeSrc,alt:""}})])])],1)],1),r("el-form-item",{attrs:{label:"QQ：",prop:"qq"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:10}},[r("el-input",{attrs:{maxlength:"10"},model:{value:e.form.qq,callback:function(t){e.$set(e.form,"qq",t)},expression:"form.qq"}})],1),r("el-col",{staticClass:"form-tips-gray",attrs:{span:13,align:"left"}},[e._v("\n                交易时方便对方或客服联系到你\n              ")])],1)],1),r("el-form-item",{attrs:{label:"推荐人："}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:10}},[r("el-input",{model:{value:e.form.reference,callback:function(t){e.$set(e.form,"reference",t)},expression:"form.reference"}})],1),r("el-col",{staticClass:"form-tips-gray",attrs:{span:13,align:"left"}},[e._v("\n                对推荐人无任何损失反而有奖， 可留空\n              ")])],1)],1),r("el-form-item",{attrs:{label:"  ",prop:"isChecked"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:20}},[r("el-checkbox",{attrs:{checked:"",name:"isChecked"},model:{value:e.form.isChecked,callback:function(t){e.$set(e.form,"isChecked",t)},expression:"form.isChecked"}}),e._v("  注册即表示同意"),r("span",{on:{click:function(t){e.showAgreement=!0}}},[e._v("《注册许可协议》")])],1)],1)],1),r("el-form-item",{attrs:{label:" "}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:10}},[r("el-button",{staticStyle:{width:"100%"},attrs:{type:"danger"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("确定注册")])],1)],1)],1)],1)],1),r("div",{staticClass:"register-right"},[r("div",{staticClass:"register-action"},[r("div",{staticClass:"action-title"},[e._v("已有会员账号？")]),r("div",{staticClass:"action-content"},[r("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.link("/login")}}},[e._v("我要登录")]),r("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return e.link("/")}}},[e._v("忘记密码")])],1)]),e._m(0)])])]),r("el-dialog",{attrs:{title:"注册许可协议",visible:e.showAgreement,width:"40%",align:"left"},on:{"update:visible":function(t){e.showAgreement=t}}},[r("div",{staticClass:"agreement-wrapp"},[r("p",[e._v("1、在本站注册的会员，必须遵守《互联网电子公告服务管理规定》，不得在本站发表诽谤他人，侵犯他人隐私，侵犯他人知识产权，传播病毒，政治言论，商业讯息等信息。")]),r("p",[e._v("3、在登记过程中，您将选择注册名和密码。注册名的选择应遵守法律法规及社会公德。您必须对您的密码保密，您将对您注册名和密码下发生的所有活动承担责任。")]),r("p",[e._v("2、在所有在本站发表的文章，本站都具有最终编辑权，并且保留用于印刷或向第三方发表的权利，如果你的资料不齐全，我们将有权不作任何通知使用你在本站发布的作品。")])]),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showAgreement=!1}}},[e._v("确 定")])],1)])],1)},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register-img"},[r("img",{attrs:{src:"http://demo2.hsk.cc/templates/main/images/reg_ad2.gif",alt:""}})])}],n=(r("7cfd"),r("63ff"),r("f8f9")),o={data:function(){var e=this,t=function(t,r,s){e.Validator.checkTel(t,r,s)},r=function(t,r,s){e.Validator.confirmPass(t,r,e.form.password,s)};return{type:this.$route.query.type,rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],confirmPassword:[{required:!0,validator:r,trigger:"blur"}],telphone:[{required:!0,trigger:"blur",validator:t}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}],qq:[{required:!0,message:"请输入QQ号",trigger:"blur"}],isChecked:[{required:!0,message:"请先阅读并同意注册协议",trigger:"change"}]},form:{name:"",password:"",confirmPassword:"",telphone:"",code:"",qq:"",reference:"",isChecked:[]},smsButton:{disabled:!1,time:"",text:"发送验证码"},showAgreement:!1,codeSrc:"",codeId:""}},created:function(){},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log(r),!r){e.next=4;break}return e.next=4,t.postForm();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},postForm:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.api.post("".concat(this.baseUrl,"/brush/app/register"),{userName:this.form.name,password:this.form.password,mobile:this.form.telphone,qq:this.form.qq,referrer:this.form.reference,smsCode:this.form.code,type:this.type},this);case 2:t=e.sent,t.data.code?this.$message.error(t.data.msg):this.Global.getUserInfo(this,t.data.memberInfo.token).then((function(e){r.form.keepUser?(r.$cookies.set("token",t.data.memberInfo.token,t.data.memberInfo.expire/86400),r.$cookies.set("userInfo",e.Index,t.data.memberInfo.expire/86400)):(r.$cookies.set("token",t.data.memberInfo.token,0),r.$cookies.set("userInfo",e.Index,0)),r.$router.push({path:"/"})}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getSms:function(){var e=this;this.$refs["form"].validateField("telphone",function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==r){t.next=5;break}return t.next=3,e.Global.getSmsCode(e);case 3:s=t.sent,s.data.code||(e.smsButton.disabled=!0,e.smsButton.time=60,e.smsButton.text="s后再次获取",e.interva=setInterval((function(){e.smsButton.time--,1==e.smsButton.time&&(e.smsButton.disabled=!1,e.smsButton.time="",e.smsButton.text="发送验证码",clearInterval(e.interva))}),1e3));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},link:function(e){this.$router.push({path:e})}}},i=o,l=(r("ff47"),r("6691")),c=Object(l["a"])(i,s,a,!1,null,"53404fc2",null);t["default"]=c.exports},ff47:function(e,t,r){"use strict";var s=r("29dc"),a=r.n(s);a.a}}]);
//# sourceMappingURL=chunk-8c67da92.59ba6367.js.map